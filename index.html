<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome, Cutie</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #fdf5f6;
            color: #4a4a4a;
        }

        .flower-option:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .bouquet-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 400px; /* This will be overridden by JS for responsiveness */
            margin: auto;
        }

        /* Keyframes for the floating text animation */
        @keyframes float-up {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--x), var(--y)) scale(1.2);
                opacity: 0;
            }
        }

        .floating-text {
            position: absolute;
            font-weight: bold;
            color: #d83d67;
            white-space: nowrap;
            animation: float-up 3s ease-out forwards;
            pointer-events: none;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .logout-card-content {
            max-height: 80vh; /* Adjust height as needed */
            overflow-y: auto;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 text-center">

    <!-- Welcome and initial button section -->
    <div id="welcome-section" class="flex flex-col items-center transition-opacity duration-500 ease-in-out">
        <h1 class="text-6xl sm:text-7xl font-bold mb-8 text-pink-500">Welcome, Cutie.</h1>
        <button id="main-button" class="px-8 py-4 bg-pink-500 text-white font-bold rounded-full shadow-lg hover:bg-pink-600 transition-all duration-300 transform hover:scale-105">
            Press Here
        </button>
    </div>

    <!-- Flower options section (initially hidden) -->
    <div id="flower-options" class="hidden flex-col items-center p-6 bg-white rounded-3xl shadow-2xl transition-opacity duration-500 ease-in-out">
        <h2 class="text-3xl font-semibold mb-6 text-pink-500">Choose a flower for your bouquet:</h2>
        <div class="flex flex-wrap justify-center gap-6">
            <!-- Flower option 1: Rose -->
            <div data-flower="rose" data-emoji="🌹" data-text="i love you" class="flower-option flex flex-col items-center p-4 bg-pink-100 rounded-3xl cursor-pointer hover:bg-pink-200 transition-all duration-300">
                <span class="text-5xl">🌹</span>
                <span class="text-lg font-medium">Rose</span>
            </div>
            <!-- Flower option 2: Tulip -->
            <div data-flower="tulip" data-emoji="🌷" data-text="sorry" class="flower-option flex flex-col items-center p-4 bg-pink-100 rounded-3xl cursor-pointer hover:bg-pink-200 transition-all duration-300">
                <span class="text-5xl">🌷</span>
                <span class="text-lg font-medium">Tulip</span>
            </div>
            <!-- Flower option 3: Cherry Blossom -->
            <div data-flower="cherry-blossom" data-emoji="🌸" data-text="kiss you" class="flower-option flex flex-col items-center p-4 bg-pink-100 rounded-3xl cursor-pointer hover:bg-pink-200 transition-all duration-300">
                <span class="text-5xl">🌸</span>
                <span class="text-lg font-medium">Cherry Blossom</span>
            </div>
            <!-- Flower option 4: Hibiscus -->
            <div data-flower="hibiscus" data-emoji="🌺" data-text="miss you" class="flower-option flex flex-col items-center p-4 bg-pink-100 rounded-3xl cursor-pointer hover:bg-pink-200 transition-all duration-300">
                <span class="text-5xl">🌺</span>
                <span class="text-lg font-medium">Hibiscus</span>
            </div>
            <!-- Flower option 5: Sunflower -->
            <div data-flower="sunflower" data-emoji="🌻" data-text="unblock me" class="flower-option flex flex-col items-center p-4 bg-pink-100 rounded-3xl cursor-pointer hover:bg-pink-200 transition-all duration-300">
                <span class="text-5xl">🌻</span>
                <span class="text-lg font-medium">Sunflower</span>
            </div>
        </div>
    </div>

    <!-- Bouquet section (initially hidden) -->
    <div id="bouquet-section" class="hidden relative w-full max-w-lg mt-8 p-4">
        <!-- New logout button -->
        <button id="logout-button" class="absolute top-0 right-0 px-4 py-2 bg-pink-500 text-white rounded-full shadow-md hover:bg-pink-600 transition-colors duration-300">
            Log Out
        </button>
        <div id="emoji-bouquet" class="bouquet-container mx-auto">
            <!-- Stems and leaves SVG will be injected here -->
            <svg id="stems-svg" class="absolute inset-0" viewBox="0 0 400 400"></svg>
            <div id="bouquet-elements" class="absolute inset-0"></div>
        </div>
    </div>
    
    <!-- Logout card section (initially hidden) -->
    <div id="logout-card" class="hidden fixed inset-0 flex items-center justify-center p-4 z-50 bg-gray-800 bg-opacity-75">
        <div class="bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center max-w-sm logout-card-content">
            <img src="shivi.jpg" alt="Goodbye" class="rounded-2xl mb-4">
            <p class="text-xl font-semibold text-center text-pink-500">"I know what I did Yesterday made you upset. I killed your excitement of telling gossip and didn't value the time at which I was supposed to call you. After that, I gave you irrelevant justification and made you stay up till morning after knowing you were feeling sleepy and having an exam tomorrow. I tried to make this for you since we cut the call in the morning, but I failed, and I almost gave up till 8 am, that's why I sent you a bouquet, which ended up being sent back. I value you a lot. Please come and talk to me; without you, I'm incomplete. I miss you"</p>
        </div>
    </div>

    <script>
        const mainButton = document.getElementById('main-button');
        const welcomeSection = document.getElementById('welcome-section');
        const flowerOptions = document.getElementById('flower-options');
        const bouquetSection = document.getElementById('bouquet-section');
        const emojiBouquet = document.getElementById('emoji-bouquet');
        const logoutButton = document.getElementById('logout-button');
        const logoutCard = document.getElementById('logout-card');
        const floatingMessages = ["i love you", "sorry", "kiss you", "miss you", "unblock me"];
        
        // Event listener for the initial button click
        mainButton.addEventListener('click', () => {
            welcomeSection.classList.add('hidden');
            flowerOptions.classList.remove('hidden');
            flowerOptions.classList.add('flex');
        });

        // Event listeners for each flower option
        document.querySelectorAll('.flower-option').forEach(option => {
            option.addEventListener('click', () => {
                const flowerType = option.dataset.flower;
                const flowerEmoji = option.dataset.emoji;

                // Hide flower options and show bouquet section
                flowerOptions.classList.add('hidden');
                bouquetSection.classList.remove('hidden');
                
                // Generate the bouquet
                generateBouquet(flowerEmoji);

                // Show the messages floating around
                showFloatingTexts(floatingMessages);
            });
        });

        // Event listener for the logout button
        logoutButton.addEventListener('click', () => {
            bouquetSection.classList.add('hidden');
            logoutCard.classList.remove('hidden');
        });

        function generateBouquet(flowerEmoji) {
            const bouquetElements = document.getElementById('bouquet-elements');
            bouquetElements.innerHTML = ''; // Clear existing flowers
            const stemsSVG = document.getElementById('stems-svg');
            stemsSVG.innerHTML = ''; // Clear existing stems and leaves

            const numFlowers = 400; // Increased density to fill gaps
            const bouquetContainerWidth = emojiBouquet.offsetWidth;
            const bouquetContainerHeight = emojiBouquet.offsetHeight;

            // Draw stems and leaves first
            drawStems(stemsSVG);

            // Generate emojis for the bouquet
            for (let i = 0; i < numFlowers; i++) {
                const span = document.createElement('span');
                span.textContent = flowerEmoji;
                span.classList.add('absolute', 'text-4xl');

                // Position the emojis to form a dense, natural-looking cluster
                const angle = Math.random() * Math.PI * 2;
                const radius = Math.random() * (bouquetContainerWidth / 2.5);
                const x = (bouquetContainerWidth / 2) + radius * Math.cos(angle);
                const y = (bouquetContainerHeight / 2) + radius * Math.sin(angle) - (bouquetContainerHeight * 0.25) + (Math.random() - 0.5) * 50;
                
                span.style.left = `${x}px`;
                span.style.top = `${y}px`;

                bouquetElements.appendChild(span);
            }
        }

        // Function to draw stems and leaves using SVG
        function drawStems(svgElement) {
            const stemColor = "#3a8a3a";
            const numStems = 7;
            const stemBaseX = 200;
            const stemBaseY = 380;
            const stemLength = 250; 
            const leafEmoji = '🍃';
            const containerWidth = svgElement.parentElement.offsetWidth;
            const containerHeight = svgElement.parentElement.offsetHeight;
            const startX = containerWidth / 2;
            const startY = containerHeight;
            const controlPointX = startX + (Math.random() - 0.5) * 100;
            const controlPointY = startY - (containerHeight * 0.3) - (Math.random() * 50);

            for (let i = 0; i < numStems; i++) {
                const angle = (i - Math.floor(numStems / 2)) * (Math.PI / 15);
                const endX = startX + Math.sin(angle) * (containerHeight * 0.8) * 0.8;
                const endY = startY - Math.cos(angle) * (containerHeight * 0.8);

                // Draw the stem path
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                const pathData = `M${endX},${endY} C${endX},${endY + 50}, ${startX},${startY - 50}, ${startX},${startY}`;
                path.setAttribute('d', pathData);
                path.setAttribute('stroke', stemColor);
                path.setAttribute('stroke-width', '4');
                path.setAttribute('fill', 'none');
                path.setAttribute('stroke-linecap', 'round');
                svgElement.appendChild(path);

                // Add multiple leaves along the stem
                const numLeaves = 3;
                for (let j = 1; j <= numLeaves; j++) {
                    const leafPosition = j / (numLeaves + 1);
                    const leafX = startX + Math.sin(angle) * (containerHeight * 0.8) * leafPosition;
                    const leafY = startY - Math.cos(angle) * (containerHeight * 0.8) * leafPosition;
                    
                    const leaf = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    leaf.textContent = leafEmoji;
                    leaf.setAttribute('x', leafX);
                    leaf.setAttribute('y', leafY);
                    leaf.setAttribute('font-size', '20');
                    leaf.setAttribute('transform', `rotate(${(angle * 180 / Math.PI) + 45} ${leafX} ${leafY})`);
                    svgElement.appendChild(leaf);
                }
            }
        }

        // Function to create and animate the floating text messages
        function showFloatingTexts(messages) {
            const container = document.getElementById('bouquet-section');
            const numMessages = 10;
            const uniqueMessages = [...new Set(messages)]; // Use unique messages

            for (let i = 0; i < numMessages; i++) {
                const span = document.createElement('span');
                const randomMessage = uniqueMessages[Math.floor(Math.random() * uniqueMessages.length)];
                span.textContent = randomMessage;
                span.classList.add('floating-text');

                // Position the text randomly
                const startX = Math.random() * (container.offsetWidth * 0.8) + (container.offsetWidth * 0.1);
                const startY = Math.random() * (container.offsetHeight * 0.8) + (container.offsetHeight * 0.1);
                span.style.left = `${startX}px`;
                span.style.top = `${startY}px`;

                // Set random floating direction
                const endX = (Math.random() - 0.5) * container.offsetWidth;
                const endY = (Math.random() - 0.5) * container.offsetHeight;
                span.style.setProperty('--x', `${endX}px`);
                span.style.setProperty('--y', `${endY}px`);

                container.appendChild(span);

                // Remove the element after the animation
                setTimeout(() => {
                    span.remove();
                }, 3000);
            }
        }
    </script>
</body>
</html>
